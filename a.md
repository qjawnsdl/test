# 실시간 모니터링 샌드박스 소프트웨어

## 1주차 
- 시스템 모니터링 에이전트 개발
- 바이러스토탈 api 연동

### 1주차 시스템 모니터링 에이전트 개발
모니터링 대상 컴퓨터에 설치될 소프트웨어이고, 파이썬으로 제작. OS는 windows로 특정하고 제작
- 프로세스 생성/실행 감지  
-> psutil 라이브러리를 사용하여 모든 실행 중인 프로세스 목록을 주기적으로 가져와 실시간 모니터링
- 파일 시스템 변경 감지(zip,pdf,js 등)  
-> watchdog 라이브러리를 사용하여 특정 디렉터리(다운로드 폴더, Temp 폴더 등)를 지정하여 파일 생성,삭제 등의 이벤트를 실시간으로 감지
- 네트워크 연결 감지  
-> 이것 역시 psutil 라이브러리를 다시 사용하여 각 프로세스가 연결된 네트워크 소켓 정보를 확인하고, 새로운 연결을 감지

### 1주차 바이러스토탈 api 연동
에이전트가 감지한 이벤트 데이터를 바이러스토탈 API로 감지하고 결과를 처리하는 핵심 로직
- 이벤트(파일 해시 값,URL주소 등)에서 감지한 데이터를 추출  
-> 파일 해시값은 hashlib 라이브러리를 사용하여 감지된 파일의 해시를 추출
- 악성 여부 판단(if malicious > 20 :print("악성파일입니다.")) 


## 2주차
가상 환경 자동 실행 및 모니터링

### 2주차 가상 환경 자동 실행 및 모니터링
악성으로 판단한 파일,URL을 안전한 가상 환경에서 실행하고, 그 행위를 기록
- 가상 머신 연동(버츄얼 박스 등)  
-> 파이썬에서 가상 머신을 제어하기 위해 버츄얼박스 SDK 또는 python-libvirt와 같은 라이브러리 사용
- 악성 파일 가상 머신으로 전송  
-> 가상 머신 내부에 파이썬 스크립트를 작성하고, 이 스크립트는 SSH 와 같은 통신을 통해 전달받은 악성파일을 자동으로 실행
- 가상 머신에서 파일을 실행 시키고, Procmon과 같은 도구를 사용하여 프로세스,파일,네트워크 연결 등의 모든 행위를 기록  
-> paramiko같은 도구를 사용하여 가상 환경에서 호스트 시스템으로 다시 전송
- 로그 수집

## 3주차
가상환경에서 수집한 행위를 가공하여 보고서 파일 저장 및 툴 배포

### 3주차 보고서 생성
가상 환경에서 수집한 데이터를 가공하여 최종 보고서를 사용자에게 알림
- 데이터 파싱을 하여 핵심적인 행위(이상 징후?)를 추출  
-> 이것에 대해서는 무슨 데이터를 핵심적으로 보느냐에 따라 달라서 팀 내부 회의가 필요할 듯 싶습니다..
- 파이썬 시각화 도구를 이용하여 행위 그래프, 네트워크 연결 등을 시각화
- 바이러스토탈 분석 결과와 가상 환경에서 이뤄진 분석 결과를 통합하여 최종 보고서를 사용자에게 알림

### 3주차 툴 배포
개발된 툴을 사용자에게 배포 가능한 독립 실행 파일로 만들어 배포
- PyInstaller를 사용하여 파이썬 스크립트와 모든 의존성 라이브러리를 하나의 .exe파일로 패키징
- 패키징된 툴을 실행시키는 것만으로도 솔루션 사용 가능

